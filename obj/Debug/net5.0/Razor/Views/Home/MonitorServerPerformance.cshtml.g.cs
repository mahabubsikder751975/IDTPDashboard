#pragma checksum "E:\IDTPDashboard\Views\Home\MonitorServerPerformance.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "10ebcfa130450efdd40f14aa4d4456ff2ac9ad12"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Home_MonitorServerPerformance), @"mvc.1.0.view", @"/Views/Home/MonitorServerPerformance.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "E:\IDTPDashboard\Views\_ViewImports.cshtml"
using IDTPDashboards;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "E:\IDTPDashboard\Views\_ViewImports.cshtml"
using IDTPDashboards.Models;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"10ebcfa130450efdd40f14aa4d4456ff2ac9ad12", @"/Views/Home/MonitorServerPerformance.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"1de202496fa847446cb7ebfb3e3a55cf1c7d1a5e", @"/Views/_ViewImports.cshtml")]
    public class Views_Home_MonitorServerPerformance : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral(@" <style>
  .container{
    display:flex;

  }

  .label{
    flex:1;
    vertical-align: middle;
    text-align: center;
  }

  .x{
    flex:3;
    text-align: center;
    background-color: rgba(235, 113, 101, 0.73);
    margin: 10px;
  }

  .y{
    flex:3;
    text-align: center;
    background-color: rgba(70, 163, 71, 0.64);
    margin-top: 10px;
    margin-bottom:10px;
}
  .z{
    flex:3;
    text-align: center;
    background-color:rgba(70, 140, 215, 0.74) ;
    margin:10px;
  }

  h1{
    text-align: center;
  }

  </style>  

  <div id=""labelAccel"" class=""label"">
    <h2>Real Time Performance</h2> 
  </div>

  <div id=""perfContainer"" class=""container"">       
    <div id=""divcpu"" class=""x"">
      <h4> CPU </h4>
      <canvas id=""divcpuChart""></canvas>
    </div><!--divcpu-->
    <div id=""divmemory"" class=""y"">
      <h4> Memory </h4>
      <canvas id=""divmemoryChart""></canvas>
    </div><!--divmemory-->
    <div id=""divdisk"" class=""z"">
      <h4> Disk </h4>
      <canvas id=""divdiskChart""></canvas>
    <");
            WriteLiteral(@"/div><!--divdisk-->
     <div id=""divnetwork"" class=""z"">
      <h4> Network </h4>
      <canvas id=""divnetworkChart""></canvas>
    </div><!--divdisk-->
  </div><!--perfContainer-->
  

  

<script>
  window.onload = function() {
    console.log(""LOADED"");

    //Configuration variables
    var updateInterval = 1000 //in ms
    var numberElements = 30;

    //Globals
    var updateCount = 0;

    // Chart Objects
    var divcpuChart = $(""#divcpuChart"");
    var divmemoryChart = $(""#divmemoryChart"");
    var divdiskChart = $(""#divdiskChart"");
    var divnetworkChart = $(""#divnetworkChart"");
    //chart instances & configuration


    var commonOptions = {
        scales: {
          xAxes: [{
            type: 'time',
            time: {
              displayFormats: {
                millisecond: 'mm:ss:SSS'
              }
            }
          }],
            yAxes: [{
                ticks: {
                    beginAtZero:true
                }
            }]            
        },
        legend: {disp");
            WriteLiteral(@"lay: false},
        tooltips:{
          enabled: false
        }
    };

    //var ctx = document.getElementById('myChart').getContext('2d');
    //var myChart = new Chart(ctx,config);

    var divcpuChartInstance = new Chart(divcpuChart, {
        type: 'line',
        data: {
          datasets: [{
              label: ""% Utilization"",
              data: 0,
              fill: false,
              borderColor: '#343e9a',
              borderWidth: 1
          }]
        },
        options: Object.assign({}, commonOptions, {
          title:{
            display: true,
            text: ""% Utilization"",
            fontSize: 18
          }
        })
    });

    var divmemoryChartInstance = new Chart(divmemoryChart, {
        type: 'line',
        data: {
          datasets: [{
              label: ""% Utilization"",
              data: 0,
              fill: false,
              borderColor: '#343e9a',
              borderWidth: 1
          }]
        },
        options: Object.assign({}, commonOptions, {");
            WriteLiteral(@"
          title:{
            display: true,
            text: ""% Utilization"",
            fontSize: 18
          }
        })    });

    var divdiskChartInstance = new Chart(divdiskChart, {
        type: 'line',
        data: {
          datasets: [{
              label: ""% Utilization"",
              data: 0,
              fill: false,
              borderColor: '#343e9a',
              borderWidth: 1
          }]
        },
        options: Object.assign({}, commonOptions, {
          title:{
            display: true,
            text: ""% Utilization"",
            fontSize: 18
          }
        })
      });

   var divnetworkChartInstance = new Chart(divnetworkChart, {
        type: 'line',
        data: {
          datasets: [{
              label: ""% Utilization"",
              data: 0,
              fill: false,
              borderColor: '#343e9a',
              borderWidth: 1
          }]
        },
        options: Object.assign({}, commonOptions, {
          title:{
            display: true,
");
            WriteLiteral(@"            text: ""% Utilization"",
            fontSize: 18
          }
        })
      });

    function addData(data) {
      if(data){
        const d = new Date();
        let time = d.getHours()+':'+d.getMinutes()+':'+d.getSeconds();

        divcpuChartInstance.config.data.labels.push(time);
        divcpuChartInstance.config.data.datasets.forEach((dataset) =>{dataset.data.push(data['xA'])});
        divmemoryChartInstance.config.data.labels.push(time);
        divmemoryChartInstance.config.data.datasets.forEach((dataset) =>{dataset.data.push(data['yA'])});
        divdiskChartInstance.config.data.labels.push(time);
        divdiskChartInstance.config.data.datasets.forEach((dataset) =>{dataset.data.push(data['zA'])});
        divnetworkChartInstance.config.data.labels.push(time);
        divnetworkChartInstance.config.data.datasets.forEach((dataset) =>{dataset.data.push(data['yaw'])});
        

        divcpuChartInstance.update();
        divmemoryChartInstance.update();
        divdiskChartInstance.");
            WriteLiteral(@"update();
        divnetworkChartInstance.update();

        if(updateCount > numberElements){
          divcpuChartInstance.config.data.labels.shift();
          divcpuChartInstance.config.data.datasets[0].data.shift();
          divmemoryChartInstance.config.data.labels.shift();
          divmemoryChartInstance.config.data.datasets[0].data.shift();
          divdiskChartInstance.config.data.labels.shift();
          divdiskChartInstance.config.data.datasets[0].data.shift();   
          divnetworkChartInstance.config.data.labels.shift();
          divnetworkChartInstance.config.data.datasets[0].data.shift();       
        }
        else updateCount++;       
      }
    };
    var i=0;
    function updateData() {
      console.log(""Update Data"");
      i=i+1;
       $.ajax({
                url: '/Home/GetServerPerfData?pageno='+i,
                type: 'GET', 
                data:  '{pageno:""'+i+'""}',   
                dataType: 'json',
                contentType: 'application/json',
                su");
            WriteLiteral(@"ccess: function (icpdata) { 
                  if(icpdata!='undefined'){
                    icpdata.forEach(obj => {
                        addData(obj);
                    })
                  }               
                }
              });
      setTimeout(updateData,updateInterval);
    }

    updateData();
  }
</script>");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
